<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<div layout:fragment="content">

	<th:block layout:fragment="css">

		<link rel="stylesheet" href="/css/itemDetail.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
		
	</th:block>
	
	
	
<div class="site-section mt-5 mb-5 mt-5">
	<div class="container">
	<div class="banner_slider slider-wrap ">
		<th:block th:each="img , status:${itemImgList}">
		<div class="">
                <div class="s_view_pic_zoom">
                <img th:src="${img.imgUrl}" width="1000" height="1000" th:alt="${item.itemNm}" 
                th:title="${item.itemNm}" class="middle">
                </div>
            </div>
		</th:block>
            </div>
		<div class="s_view_info btn_layer">
                <h3>
                    <p class="title">[[${item.itemNm}]]</p>
                </h3>



                <div id="lySns" class="layer_area" style="display: none">
                    <div class="ly_wrap sns_layer">
                        <div class="ly_cont">
                            <div class="sns_list">
                                <div class="ly_share_noti" style="display: none"><span>수익금 적립 불가 상품입니다.</span></div>
                                <ul>
                                    <li><a href="javascript:;" id="shareKakaoLinkBtn" data-sns="kakaolink"><img src="//recipe1.ezmember.co.kr/img/img_share_k.png" alt="카카오톡 공유"><br><span>카카오톡</span></a></li>
                                    <li><a href="javascript:;" id="shareFacebookBtn" data-width="750" data-height="300" data-sns="facebook" class="btn-social-popup"><img src="//recipe1.ezmember.co.kr/img/img_share_f.png" alt="페이스북 공유"><br><span>페이스북</span></a></li>
                                    <li><a href="javascript:;" id="shareTwitterBtn" data-width="500" data-height="250" data-sns="twitter" class="btn-social-popup"><img src="//recipe1.ezmember.co.kr/img/img_share_t.png" alt="트위터 공유"><br><span>트위터</span></a></li>
                                    <li><a href="javascript:;" id="shareKakaoStoryBtn" data-sns="kakaostory"><img src="//recipe1.ezmember.co.kr/img/img_share_ks.png" alt="카카오스토리 공유"><br><span>카카오스토리</span></a></li>
                                    <li><a href="javascript:;" id="shareCopyBtn" data-sns="" class="gd_clipboard" data-clipboard-text="" title="상품주소"><img src="//recipe1.ezmember.co.kr/img/img_share_l.png" alt="링크복사"><br><span>링크복사</span></a></li>
                                </ul>
                            </div>
                        </div>
                        <a href="#lySns" class="ly_close"><img src="http://recipe1.ezmember.co.kr/img/mobile/2022/icon_close2.png" alt="닫기" width="26px"></a>
                    </div>
                </div>




                <div class="sub_info">[[${item.itemSubNm}]]</div>
                <div class="price_box">
                       	<del class="oriprice">[[${item.oriprice}]]</del><br>
                        <p class="price">[[${item.price}]]</p>
                    <div class="info_price_rv">
                      

                    </div>
                    <div class="price_box_info_btn">
                        <div style="position: relative; display: inline-block;">
                            <a href="javascript:;" class="info_btn_share"><img src="//recipe1.ezmember.co.kr/img/mobile/icon_share10.png" alt="공유"></a>
                        </div>
                    </div>
                   
                    <div class="info_delivery_area">
                        <dl class="info_delivery">
                            <dt><img src="//recipe1.ezmember.co.kr/img/mobile/icon_delivery3.png" alt="배송아이콘">배송</dt>
                            <dd>
                                무료배송
                                </dd>
                                </dl>
                                </div>
                                <dl class="info_delivery">

                                </dl>
                    
                    <div class="price_total" style="padding-top:0;">
                            <div class="btn_go_box">
                                <button type="button" id="cartBtn" class="btn_go_cart" style="width: 39%;">장바구니</button>
                                <button type="button" class="btn_go_order" style="width: 60%;">바로구매</button>
                            </div>
                 
                    </div>
                </div>
        </div>
        
        <div class="D_goods_box">
        <ul id="goods_tab" class="goods_tab">
            <li><a href="#page-detail" id="tab-detail" onclick="clickTab('detail');" class="link active">상세정보</a></li>
            <li><a href="#page-review" id="tab-review" onclick="clickTab('review');" class="link">후기<p>(24)</p></a></li>
            <li><a href="#page-etc" id="tab-etc" onclick="clickTab('etc');" class="link">배송환불</a></li>
            <li><a href="#page-qna" id="tab-qna" onclick="clickTab('qna');" class="link">문의<p>(20)</p></a></li>
        </ul>
        <div class="D_goods_info">
        <div class="info_cont detail" id="goodsDetailInfo" style="padding-bottom:100px; height:1000px;">
            <div class="detail_explain_box">
                <div class="image-manual">
					                   
                </div>
                <div class="txt-manual">
                    <div align="center" style="text-align: center;">
                    <th:block th:each="detail , status:${imgDetailList}">
						<img th:src="${detail.imgUrl}" alt="">
					
					</th:block> 
                    </div>
                </div>
            </div>
            <!-- //detail_explain_box -->
            <div class="detail_more">
                <a href="javascript:ezhld_detail_more();" class="down" id="toggleLink">상세정보 더보기</a>
            </div>
        </div>
    </div>
    </div>
        

        
        
        
    </div>
	
	</div>
</div>
	
	


<th:block layout:fragment="script">
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
	<script>
	$(document).ready(function(){
		  $('.banner_slider').slick({    
		    infinite: true ,      // 무한반복
		     slidesToShow: 1,     // 보여지는 슬라이드 개수
		     slidesToScroll: 1,   // 넘어가는 슬라이드 개수
		     dots: false           // 점 네비게이션 표시
		    // arrows: false,        화살표 표시
		    // fade:true             페이드 효과
		    // autoplay: true,       자동스크롤
		    // autoplaySpeed: 4000   자동스크롤 속도
		    /* 반응형
		    responsive: [
		      {
		        breakpoint: 1024,
		        settings: {
		          slidesToShow: 3,
		          slidesToScroll: 3,
		          infinite: true,
		          dots: true
		        }
		      },
		      {
		        breakpoint: 600,
		        settings: {
		          slidesToShow: 2,
		          slidesToScroll: 2
		        }
		      },
		      {
		        breakpoint: 480,
		        settings: {
		          slidesToShow: 1,
		          slidesToScroll: 1
		        }
		      }
		    ]
		    */
		  });
		});
	
function ezhld_detail_more() {
  var toggleLink = document.getElementById("toggleLink");
  var goodsDetailInfo = document.getElementById("goodsDetailInfo");
  
  var targetPosition = document.getElementById("goods_tab").offsetTop;

  if (goodsDetailInfo.style.overflow === "visible") {
    // 현재 상태가 '더보기' 상태일 때
    toggleLink.innerText = "상세정보 더보기";
    goodsDetailInfo.style.height = "1000px";
    goodsDetailInfo.style.overflow = "hidden";
      window.scrollTo({
    top: targetPosition,
    behavior: "smooth" // 부드러운 스크롤 효과 적용
  });
    
  } else {
    // 현재 상태가 '덮기' 상태일 때
    toggleLink.innerText = "상세정보 덮기";
    goodsDetailInfo.style.height = "100%";
    goodsDetailInfo.style.overflow = "visible";
  }
}

window.onload = function() {
    var pElements = document.querySelectorAll('.price'); // 'price' 클래스를 가진 모든 p 태그를 선택

    pElements.forEach(function(p) {
        var html = p.innerHTML;

        // "%"와 그 앞의 모든 문자를 감싼 span 태그로 교체
        html = html.replace(/(\d+)%/, '<span style="font-size: 24px; color: red;">$1%</span>');
        
        p.innerHTML = html;
    });
}
	</script>


	<script th:inline="javascript">
	
	</script>
	</th:block>


</html>